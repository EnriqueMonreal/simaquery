import SimaQuery from 'facade/simaquery';

const map = M.map({
  container: 'mapjs',
  wmcfiles: [
    'http://www.juntadeandalucia.es/institutodeestadisticaycartografia/VisorGrid/wmc/WMC_callejero_simplificado.xml*Callejero',
    'http://www.juntadeandalucia.es/institutodeestadisticaycartografia/VisorGrid/wmc/WMC_satelite_simplificado.xml*Satélite',
    'http://www.juntadeandalucia.es/institutodeestadisticaycartografia/VisorGrid/wmc/WMC_hibrido_simplificado.xml*Híbrido'
  ],
  projection: 'EPSG:25830*m'
});

const limitesProvincia = new M.layer.GeoJSON(
  {
    name: "Provincias de Andalucía",
    url: "http://geostematicos-sigc.juntadeandalucia.es/geoserver/tematicos/wfs?service=WFS&version=1.0.0&request=GetFeature&typename=tematicos%3AProvincias&outputFormat=json&srsname=EPSG%3A25830",
    extract: false
  }
);

// const limitesMunicipales = new M.layer.WFS({
//   url: 'http://www.ideandalucia.es/services/DERA_g13_limites_administrativos/wfs?',
//   namespace: "DERA_g13_limites_administrativos",
//   name: 'g13_01_TerminoMunicipal',
//   legend: 'Termino municipal',
//   geometry: 'POLYGON',
  
// }, {
//   getFeatureOutputFormat: 'json',
//   displayInLayerSwitcher: false

// });
const limitesMunicipales = new M.layer.GeoJSON(
  {
    name: "Municipios de Andalucía",
    url: "http://www.ideandalucia.es/services/DERA_g13_limites_administrativos/wfs?service=WFS&version=1.0.0&request=GetFeature&typename=DERA_g13_limites_administrativos:g13_01_TerminoMunicipal&outputFormat=json&srsname=EPSG:25830",
    extract: false
}
);




const estiloCadiz = new M.style.Polygon({
  fill: {
    color: '#e22c2c',
    opacity: 0.5,
  },
  stroke: {
    color: '#0c0c0c',
    width: 3
  }
});

const estiloMalaga = new M.style.Polygon({
  fill: {
    color: '#e26f2c',
    opacity: 0.5,
  },
  stroke: {
    color: '#0c0c0c',
    width: 3
  }
});

const estiloGranada = new M.style.Polygon({
  fill: {
    color: '#e2c12c',
    opacity: 0.5,
  },
  stroke: {
    color: '#0c0c0c',
    width: 3
  }
});

const estiloAlmeria = new M.style.Polygon({
  fill: {
    color: '#9ce22c',
    opacity: 0.5,
  },
  stroke: {
    color: '#0c0c0c',
    width: 3
  }
});

const estiloJaen = new M.style.Polygon({
  fill: {
    color: '#2ce244',
    opacity: 0.5,
  },
  stroke: {
    color: '#0c0c0c',
    width: 3
  }
});

const estiloCordoba = new M.style.Polygon({
  fill: {
    color: '#2cb7e2',
    opacity: 0.5,
  },
  stroke: {
    color: '#0c0c0c',
    width: 3
  }
});

const estiloSevilla = new M.style.Polygon({
  fill: {
    color: '#382ce2',
    opacity: 0.5,
  },
  stroke: {
    color: '#0c0c0c',
    width: 3
  }
});

const estiloHuelva = new M.style.Polygon({
  fill: {
    color: '#c42ce2',
    opacity: 0.5,
  },
  stroke: {
    color: '#0c0c0c',
    width: 3
  }
});


const categoriaProvincias = new M.style.Category("nombre", {
  "Cádiz": estiloCadiz,
  "Málaga": estiloMalaga,
  "Granada": estiloGranada,
  "Almería": estiloAlmeria,
  "Jaén": estiloJaen,
  "Córdoba": estiloCordoba,
  "Sevilla": estiloSevilla,
  "Huelva": estiloHuelva
});

const estiloMunicipio = new M.style.Polygon({
  fill: {
    color: '#ffffff',
    opacity: 0,
  },
  stroke: {
    color: '#333333',
    width: 1
  }
});

const municipioSeleccionado = new M.style.Polygon({
  fill: {
    color: '#ffffff',
    opacity: 0.5,
  },
  stroke: {
    color: '#ff0000',
    width: 3
  }
});
const colorProvinciaSeleccionada = '#000000';
const provinciaSeleccionada = new M.style.Polygon({
  fill: {
    color: colorProvinciaSeleccionada,
    opacity: 0.5,
  },
  stroke: {
    color: '#ff0000',
    width: 3
  }
});

const respuesta = '';

const munSelect ='';


const queryList = [
  ['1_1_1_1', '28867'],
  ['1_1_1_2', '18292'],
  ['1_1_1_3', '28857'],
  ['1_1_1_4', '44460'],
  ['1_1_1_5', '1387'],
  ['1_1_1_6', '21532'],
  ['1_1_1_7', '1389'],
  ['1_1_2_1', '1391'],
  ['1_1_3_1', '17868'],
  ['1_1_3_2', '17870'],
  ['1_1_3_3', '17872'],
  ['1_1_3_4', '17874'],
  ['1_1_3_5', '17876'],
  ['1_1_3_6', '17976'],
  ['1_1_3_7', '17977'],
  ['1_1_3_8', '17978'],
  ['1_1_3_9', '17979'],
  ['1_1_3_10', '17981'],
  ['1_1_3_11', '17983'],
  ['1_1_3_12', '17985'],
  ['1_1_3_13', '1392'],
  ['1_1_3_14', '1394'],
  ['1_1_3_15', '18297'],
  ['1_2_1', '1427'],
  ['1_2_2', '1431'],
  ['1_2_3', '1433'],
  ['1_2_4', '21969'],
  ['2_1_1_1_1', '21971'],
  ['2_1_1_1_2', '21974'],
  ['2_1_1_1_3', '21991'],
  ['2_1_1_1_4', '21992'],
  ['2_1_1_1_5', '22025'],
  ['2_1_1_1_6', '22026'],
  ['2_1_1_1_7', '22030'],
  ['2_1_1_1_8', '22060'],
  ['2_1_1_2_1', '22066'],
  ['2_1_1_2_2', '22070'],
  ['2_1_1_2_3', '22072'],
  ['2_1_1_2_4', '22073'],
  ['2_1_1_2_5', '22074'],
  ['2_1_1_2_6', '22078'],
  ['2_1_1_3_1', '23742'],
  ['2_1_1_3_2', '23744'],
  ['2_1_1_3_3', '40747'],
  ['2_1_1_3_4', '40750'],
  ['2_1_1_3_5', '23832'],
  ['2_1_1_3_6', '23834'],
  ['2_1_1_3_7', '40770'],
  ['2_1_1_3_8', '23853'],
  ['2_1_1_3_9', '23848'],
  ['2_1_2_1', '22080'],
  ['2_1_2_2', '22081'],
  ['2_1_2_3', '40772'],
  ['2_1_2_4', '1800'],
  ['2_1_2_5', '1790'],
  ['2_1_2_6', '1792'],
  ['2_1_2_7', '1794'],
  ['2_1_2_8', '1796'],
  ['2_1_2_9', '1798'],
  ['2_2_1', '22084'],
  ['2_2_2', '22198'],
  ['2_2_3', '22394'],
  ['2_2_4', '22398'],
  ['2_2_5', '22400'],
  ['2_2_6', '22401'],
  ['2_2_7', '22402'],
  ['2_2_8', '22403'],
  ['2_3_1', '22637'],
  ['2_3_2', '22640'],
  ['2_3_3', '22677'],
  ['2_3_4', '22680'],
  ['2_3_5', '22802'],
  ['2_3_6', '22817'],
  ['2_3_7', '22822'],
  ['2_3_8', '22824'],
  ['2_3_9', '22826'],
  ['2_3_10', '22827'],
  ['2_3_11', '22866'],
  ['2_3_12', '22867'],
  ['2_3_13', '22869'],
  ['2_3_14', '22894'],
  ['2_3_15', '22968'],
  ['2_3_16', '22874'],
  ['2_3_17', '22971'],
  ['2_3_18', '22974'],
  ['2_4_1', '36361'],
  ['2_4_2', '36362'],
  ['2_4_3', '51752'],
  ['2_4_4', '51744'],
  ['3_1_1_1_1', '19064'],
  ['3_1_1_1_2', '18417'],
  ['3_1_1_2_1', '18943'],
  ['3_1_1_2_2', '51470'],
  ['3_1_1_2_3', '51471'],
  ['3_1_2_1_1', '18829'],
  ['3_1_2_1_2', '18864'],
  ['3_1_2_2_1', '18868'],
  ['3_1_2_2_2', '18894'],
  ['3_1_2_2_3', '18895'],
  ['3_1_3_1_1', '19072'],
  ['3_1_3_1_2', '19075'],
  ['3_1_3_2_1', '19186'],
  ['3_1_3_2_2', '50217'],
  ['3_1_3_2_3', '50218'],
  ['3_1_4_1', '19209'],
  ['3_1_4_2', '28542'],
  ['3_1_4_3', '51427'],
  ['3_2_1_1', '40161'],
  ['3_2_1_2', '19296'],
  ['3_2_1_3', '19294'],
  ['3_2_1_4', '40263'],
  ['3_2_2_1', '40249'],
  ['3_2_2_2', '54408'],
  ['3_3_1_1', '29315'],
  ['3_3_1_2', '29317'],
  ['3_3_1_3', '29319'],
  ['3_3_1_4', '29321'],
  ['3_3_1_5', '29322'],
  ['3_3_1_6', '29323'],
  ['3_3_1_7', '29324'],
  ['3_3_1_8', '29325'],
  ['3_3_1_9', '29326'],
  ['3_3_1_10', '29372'],
  ['3_3_1_11', '29497'],
  ['3_3_1_12', '24749'],
  ['3_3_1_13', '24751'],
  ['3_3_2_1', '29500'],
  ['3_3_2_2', '29503'],
  ['3_3_2_3', '38542'],
  ['3_3_2_4', '38404'],
  ['3_3_2_5', '38432'],
  ['3_3_2_6', '38435'],
  ['3_3_2_7', '38477'],
  ['3_3_3_1', '29505'],
  ['3_3_3_2', '29507'],
  ['3_3_3_3', '29511'],
  ['3_3_3_4', '29510'],
  ['3_4_1_1', '19607'],
  ['3_4_1_2', '19608'],
  ['3_4_1_3', '19609'],
  ['3_4_1_4', '19610'],
  ['3_4_2_1', '22611'],
  ['3_4_2_2', '22612'],
  ['3_4_2_3', '22636'],
  ['3_4_2_4', '22639'],
  ['3_4_3_1', '40790'],
  ['3_4_3_2', '40845'],
  ['3_4_3_3', '40853'],
  ['3_4_3_4', '40870'],
  ['3_5_1_1_1', '1930'],
  ['3_5_1_2_1', '25668'],
  ['3_5_1_2_2', '25919'],
  ['3_5_1_2_3', '25921'],
  ['3_5_1_2_4', '26015'],
  ['3_5_1_2_5', '26037'],
  ['3_5_1_2_6', '26040'],
  ['3_5_1_2_7', '26169'],
  ['3_5_1_2_8', '26331'],
  ['3_5_1_3_1', '23309'],
  ['3_5_1_3_2', '23315'],
  ['3_5_1_3_3', '23316'],
  ['3_5_1_3_4', '23320'],
  ['3_5_1_3_5', '23321'],
  ['3_5_2_1', '57565'],
  ['3_6_1_1', '58270'],
  ['3_7_1', '19884'],
  ['3_7_2', '19885'],
  ['3_7_3', '19888'],
  ['3_7_4', '19943'],
  ['3_7_5', '19944'],
  ['3_7_6', '19945'],
  ['3_7_7', '19946'],
  ['3_7_8', '19947'],
  ['4_1_1_1', '1952'],
  ['4_1_1_2', '1950'],
  ['4_1_1_3', '1954'],
  ['4_1_1_4', '1956'],
  ['4_1_1_5', '1958'],
  ['4_1_1_6', '1960'],
  ['4_1_2_1', '29275'],
  ['4_1_2_2', '29277'],
  ['4_1_2_3', '29280'],
  ['4_1_2_4', '29278'],
  ['4_1_2_5', '29279'],
  ['4_1_2_6', '29281'],
  ['4_1_2_7', '29282'],
  ['4_1_2_8', '29284'],
  ['4_1_2_9', '29285'],
  ['4_1_2_10', '29286'],
  ['4_1_2_11', '29288'],
  ['4_1_2_12', '29290'],
  ['4_1_2_13', '29291'],
  ['4_1_2_14', '29292'],
  ['4_1_2_15', '29293'],
  ['4_1_3_1', '1962'],
  ['4_1_3_2', '1964'],
  ['4_1_3_3', '1966'],
  ['4_1_3_4', '1968'],
  ['4_1_3_5', '1971'],
  ['4_1_3_6', '1980'],
  ['4_1_3_7', '1982'],
  ['4_1_3_8', '1984'],
  ['4_1_3_9', '1986'],
  ['4_1_3_10', '1988'],
  ['4_1_3_11', '1993'],
  ['4_1_3_12', '1995'],
  ['4_1_3_13', '1997'],
  ['4_2_1', '29300'],
  ['4_2_2', '29301'],
  ['4_2_3', '29302'],
  ['4_2_4', '29303'],
  ['4_2_5', '24795'],
  ['4_2_6', '24797'],
  ['4_3_1', '40903'],
  ['4_4_1', '39837'],
  ['4_5_1_1', '16679'],
  ['4_5_1_2', '16681'],
  ['4_5_2_1', '16752'],
  ['4_5_2_2', '16754'],
  ['4_5_3_1', '16718'],
  ['4_5_3_2', '16722'],
  ['4_5_4_1', '16766'],
  ['4_5_4_2', '37291'],
  ['4_5_5_1', '23400'],
  ['4_5_5_2', '23429'],
  ['4_5_5_3', '23432'],
  ['4_5_5_4', '23433'],
  ['4_6_1', '24840'],
  ['4_6_2', '24842'],
  ['4_6_3', '38291'],
  ['4_6_4', '24844'],
  ['4_7_1_1_1', '1231'],
  ['4_7_1_1_2', '1251'],
  ['4_7_1_1_3', '1253'],
  ['4_7_1_1_4', '1999'],
  ['4_7_1_1_5', '2004'],
  ['4_7_1_1_6', '2006'],
  ['4_7_1_2_1', '1274'],
  ['4_7_1_2_2', '1269'],
  ['4_7_1_3_1', '40953'],
  ['4_7_2_1', '1310'],
  ['4_7_2_2', '1312'],
  ['4_7_2_3', '1329'],
  ['4_7_2_4', '1330'],
  ['4_7_2_5', '1331'],
  ['4_7_2_6', '1332'],
  ['4_7_2_7', '1333'],
  ['4_8_1', '28878'],
  ['4_8_2', '28881'],
  ['4_9_1', '23453'],
  ['4_10_1', '37169'],
  ['4_11_1_1', '22418'],
  ['4_11_1_2', '22419'],
  ['4_11_1_3', '22673'],
  ['4_11_1_4', '22455'],
  ['4_11_1_5', '22456'],
  ['4_11_1_6', '22457'],
  ['4_11_1_7', '22587'],
  ['4_11_1_8', '28970'],
  ['4_11_2_1', '22590'],
  ['4_11_2_2', '22591'],
  ['4_11_2_3', '22671'],
  ['4_11_2_4', '22608'],
  ['4_11_2_5', '22609'],
  ['4_11_2_6', '22610'],
  ['4_11_2_7', '22669'],
  ['4_11_2_8', '22797'],
  ['4_11_2_9', '22798'],
  ['4_11_2_10', '22799'],
  ['4_11_2_11', '22800'],
  ['4_11_2_12', '22801'],
  ['4_11_3_1_1', '52132'],
  ['4_11_3_1_2', '52168'],
  ['4_11_3_1_3', '23573'],
  ['4_11_3_1_4', '23579'],
  ['4_11_3_2_1', '52195'],
  ['4_11_3_2_2', '52206'],
  ['4_11_3_2_3', '23595'],
  ['4_11_3_2_4', '23601'],
  ['4_11_3_2_5', '41486'],
  ['5_1_1_1', '31646'],
  ['5_2_1_1', '41040'],
  ['5_2_1_2', '31642'],
  ['5_2_1_3', '31643'],
  ['5_2_1_4', '23890'],
  ['5_2_1_5', '23909'],
  ['5_3_1_1', '31692'],
  ['5_3_1_2', '23896'],
  ['5_3_1_3', '26608'],
  ['5_3_1_4', '26688'],
  ['5_3_1_5', '23910'],
  ['5_3_1_6', '23911'],
  ['5_3_2_1', '37125'],
  ['5_3_2_2', '37127'],
  ['5_3_2_3', '37133'],
  ['5_3_2_4', '37216'],
  ['5_3_2_5', '37138'],
  ['5_3_2_6', '37139'],
  ['5_3_2_7', '37141'],
  ['5_3_2_8', '37143'],
  ['5_3_2_9', '37145'],
  ['5_3_2_10', '37146'],
  ['5_3_2_11', '37147'],
  ['5_3_2_12', '37148'],
  ['5_3_2_13', '37149'],
  ['5_3_3_1_1', '63198'],
  ['5_3_3_1_2', '63199'],
  ['5_3_3_1_3', '49402'],
  ['5_3_3_2_1', '63196'],
  ['5_3_3_2_2', '63197'],
  ['5_4_1_1', '31641'],
  ['5_4_1_2', '31598'],
  ['5_4_1_3', '23898'],
  ['5_4_1_4', '23912'],
  ['5_4_2_1', '37015'],
  ['5_4_2_2', '37016'],
  ['5_4_2_3', '37017'],
  ['5_4_2_4', '37028'],
  ['5_4_2_5', '37093'],
  ['5_4_2_6', '37084'],
  ['5_4_2_7', '37054'],
  ['5_4_2_8', '37083'],
  ['5_4_2_9', '37056'],
  ['5_4_2_10', '37057'],
  ['5_4_2_11', '23651'],
  ['5_4_2_12', '23652'],
  ['5_4_2_13', '23688'],
  ['5_4_2_14', '23691'],
  ['5_4_3_1', '37061'],
  ['5_4_4_1', '26166'],
  ['5_4_5_1', '26168'],
  ['5_5_1_1', '46118'],
  ['5_5_1_2', '46119'],
  ['5_5_1_3', '46120'],
  ['5_5_1_4', '46121'],
  ['5_5_1_5', '46122'],
  ['5_5_1_6', '46123'],
  ['5_5_2_1', '31777'],
  ['5_5_2_2', '31771'],
  ['6_1_1_1', '1340'],
  ['6_1_1_2', '1341'],
  ['6_1_1_3', '1342'],
  ['6_1_1_4', '1343'],
  ['6_1_1_5', '1344'],
  ['6_1_1_6', '1345'],
  ['6_1_1_7', '1346'],
  ['6_2_1_1', '2517'],
  ['6_2_1_2', '2520'],
  ['6_2_1_3', '2532'],
  ['6_2_1_4', '2535'],
  ['6_2_1_5', '2513'],
  ['6_2_2_1', '2538'],
  ['6_2_2_2', '2570'],
  ['6_2_2_3', '2573'],
  ['6_2_2_4', '2576'],
  ['6_2_2_5', '2579'],
  ['6_2_3_1', '2590'],
  ['6_2_3_2','2667'],
  ['6_2_3_3','20943'],
  ['6_2_3_4','2670'],
  ['6_2_3_5','45940'],
  ['6_2_3_6','23850'],
  ['6_2_3_7','23849'],
  ['6_3_1','24078'],
  ['6_3_2','24080'],
  ['6_3_3','24082'],
  ['6_4_1','1976'],
  ['6_4_2','1978'],
  ['6_4_3','23877']
];

const queryResult = new Array();

const statusServer = true;

const timeResponse = 0;
const configSimaQuery = {
  limitesMunicipales: limitesMunicipales,
  limitesProvincia: limitesProvincia,
  queryList: queryList,
  queryResult: queryResult,
  statusServer: statusServer,
  timeResponse: timeResponse,
  munSelect: munSelect,
  styles: {
    municipioSeleccionado: municipioSeleccionado,
    estiloMunicipio: estiloMunicipio,
    categoriaProvincias: categoriaProvincias,
  },
}


map.addControls(['scaleline', 'mouse', 'panzoombar']);

limitesProvincia.setStyle(categoriaProvincias);

limitesMunicipales.setStyle(estiloMunicipio);

map.addLayers([limitesProvincia, limitesMunicipales]);

const mp = new SimaQuery(configSimaQuery);

map.addPlugin(mp);

 //añade panel leyenda

 var panelLeyend = new M.ui.Panel('legend', {
  "collapsible": true,      
  "className": 'm-leyenda',
  "collapsedButtonClass": 'g-cartografia-capas2',
  "position": M.ui.position.TR
});

map.addPanels([panelLeyend]);
